# Data generate and preprocess

## Dataset
- **DF**: Computationally-intensive dataset. Random generated code. Each file has one func *func0*. And *func0* contains only binary operator and no branch.

- **CF**: Control-intensive dataset. random generated code by CSmith. Each file has one func *func_1*. And *func_1* contains binary operator and branches.

- **POJ**: Real world dataset.

## CF, For recompilation and readiability evaluation
### cf.sh 
- Generate source code
- Compile source code (clang and gcc, o0)
- Generate IR of source code (o0)
- Check invalid operator in IR (ATTR, POISON). (These stmt may triger the error of llvmlite)

### Decompiling
Run script in ./decompiling/ on Windows.

### cf_de.sh
- Check and print decompiling ERRORS
- Extract code of *func_1* from decompiling results
- Remove decompiling files without corresponding IR.
- Check number of NULL function `void func_1(){}`

## DF, For recompilation, correctness and readiability evaluation
### df2.sh 
- Generate source code
- Compile source code (clang and gcc, o0-o3, os)
- Generate IR of source code (o0-o3, os)
- Check invalid operator in IR (ATTR, POISON, IF). IF may triger the bugs of our symbolic execution framework (SEF).

### Decompiling
Run script in ./decompiling/ on Windows.

### df2_de.sh
- Check and print decompiling ERRORS.
- Extract *func0* from decompiling results.
- Remove decompiling files without corresponding IR.
- Check number of NULL functions.
- Check and remove _chk() function in decompiling results. _chk() may triger the bugs of our SEF.
- Check and remove functions with **IF Stmt**. IF may triger the bugs of our SEF.
- Check and remove functions with **Cond Stmt**. Condition statements may triger the bugs of our SEF.
- Check and remove **CONCAT** realted statements from function. **CONCAT** statements are generated by Binja and Angr. These stmts may triger the bugs of our SEF. This step will generate two DF dataset **DF-de1** and **DF-de2** remaining op1 or op2 in `CONCAT(op1, op2)`

## POJ, For recompilation and readiability evaluation
### poj.sh
- Download dataset.
- Compile source code (clang and gcc, o0-os)
- Generate IR (o0-os)

### Decompiling
Run script in ./decompiling/ on Windows.

### poj_de.sh
- Check and print decompiling ERRORS.
- Remove decompiling files without corresponding IR.
- Check number of NULL functions.
